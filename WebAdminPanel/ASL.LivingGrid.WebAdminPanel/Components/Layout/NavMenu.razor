@using Microsoft.AspNetCore.Components.Authorization
@using ASL.LivingGrid.WebAdminPanel.Services
@inject ILocalizationService LocalizationService
@inject NavigationManager Navigation
@inject IJSRuntime JSRuntime

&lt;div class="top-row ps-3 navbar navbar-dark"&gt;
    &lt;div class="container-fluid"&gt;
        &lt;a class="navbar-brand" href="/"&gt;ASL LivingGrid&lt;/a&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;input type="checkbox" title="Navigation menu" class="navbar-toggler" /&gt;

&lt;div class="nav-scrollable" onclick="document.querySelector('.navbar-toggler').click()"&gt;
    &lt;nav class="flex-column"&gt;
        &lt;div class="nav-item px-3"&gt;
            &lt;NavLink class="nav-link" href="" Match="NavLinkMatch.All"&gt;
                &lt;span class="oi oi-home" aria-hidden="true"&gt;&lt;/span&gt; @localizedStrings["Navigation.Dashboard"]
            &lt;/NavLink&gt;
        &lt;/div&gt;
        
        &lt;div class="nav-item px-3"&gt;
            &lt;NavLink class="nav-link" href="companies"&gt;
                &lt;span class="oi oi-people" aria-hidden="true"&gt;&lt;/span&gt; @localizedStrings["Navigation.Companies"]
            &lt;/NavLink&gt;
        &lt;/div&gt;
        
        &lt;div class="nav-item px-3"&gt;
            &lt;NavLink class="nav-link" href="users"&gt;
                &lt;span class="oi oi-person" aria-hidden="true"&gt;&lt;/span&gt; @localizedStrings["Navigation.Users"]
            &lt;/NavLink&gt;
        &lt;/div&gt;
        
        &lt;div class="nav-item px-3"&gt;
            &lt;NavLink class="nav-link" href="roles"&gt;
                &lt;span class="oi oi-key" aria-hidden="true"&gt;&lt;/span&gt; @localizedStrings["Navigation.Roles"]
            &lt;/NavLink&gt;
        &lt;/div&gt;
        
        &lt;div class="nav-item px-3"&gt;
            &lt;NavLink class="nav-link" href="settings"&gt;
                &lt;span class="oi oi-cog" aria-hidden="true"&gt;&lt;/span&gt; @localizedStrings["Navigation.Settings"]
            &lt;/NavLink&gt;
        &lt;/div&gt;
        
        &lt;div class="nav-item px-3"&gt;
            &lt;NavLink class="nav-link" href="audit"&gt;
                &lt;span class="oi oi-clipboard" aria-hidden="true"&gt;&lt;/span&gt; @localizedStrings["Navigation.Audit"]
            &lt;/NavLink&gt;
        &lt;/div&gt;
        
        &lt;div class="nav-item px-3"&gt;
            &lt;NavLink class="nav-link" href="notifications"&gt;
                &lt;span class="oi oi-bell" aria-hidden="true"&gt;&lt;/span&gt; @localizedStrings["Navigation.Notifications"]
            &lt;/NavLink&gt;
        &lt;/div&gt;
        
        &lt;div class="nav-item px-3"&gt;
            &lt;NavLink class="nav-link" href="plugins"&gt;
                &lt;span class="oi oi-puzzle-piece" aria-hidden="true"&gt;&lt;/span&gt; @localizedStrings["Navigation.Plugins"]
            &lt;/NavLink&gt;
        &lt;/div&gt;
    &lt;/nav&gt;
&lt;/div&gt;

@code {
    private Dictionary&lt;string, string&gt; localizedStrings = new();

    protected override async Task OnInitializedAsync()
    {
        // Load localized strings
        localizedStrings = await LocalizationService.GetAllStringsAsync("az"); // Default to Azerbaijani
        
        // Add default navigation strings if not exists
        if (!localizedStrings.ContainsKey("Navigation.Dashboard"))
        {
            localizedStrings.Add("Navigation.Dashboard", "İdarə paneli");
            localizedStrings.Add("Navigation.Companies", "Şirkətlər");
            localizedStrings.Add("Navigation.Users", "İstifadəçilər");
            localizedStrings.Add("Navigation.Roles", "Rollar");
            localizedStrings.Add("Navigation.Settings", "Ayarlar");
            localizedStrings.Add("Navigation.Audit", "Audit");
            localizedStrings.Add("Navigation.Notifications", "Bildirişlər");
            localizedStrings.Add("Navigation.Plugins", "Pluginlər");
        }
    }
}
